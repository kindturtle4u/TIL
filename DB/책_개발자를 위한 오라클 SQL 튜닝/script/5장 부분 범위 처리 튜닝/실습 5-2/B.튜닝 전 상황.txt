SELECT * FROM
(
	SELECT
	ROWNUM RNUM, TRD_DTM, TRD_CNT, TRD_AMT,
	COUNT(*) OVER() CNT
	FROM
	(
		SELECT
		TRD_DTM, TRD_CNT, TRD_AMT
		FROM TB_STOCK_TRD A
		WHERE STOCK_CD = '000001'
		AND TRD_DTM >= TO_CHAR(SYSDATE-365, 'YYYYMMDDHH24MISS')
	  ORDER BY TRD_DTM
	)
)
WHERE RNUM BETWEEN 21 AND 30;
