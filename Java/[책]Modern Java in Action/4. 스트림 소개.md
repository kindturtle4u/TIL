> 출처 : 모던 자바 인 액션 읽으면서 정리

# PART Ⅱ 함수형 데이터 처리
# Chapter 4 스트림 소개
## 4.1 스트림이란 무엇인가?
`스트림`을 이용하면 선언형(즉, 데이터를 처리하는 임시 구현 코드 대신 질의로 표현할 수 있다)으로 컬렉션 데이터를 처리할 수 있다.
일단 스트림이 데이터 컬렉션 반복을 멋지게 처리하는 기능이라고 생각하자. 또한 스트림을 이용하면 멀티스레드 코드를 구현하지 않아도
데이터를 투영하게 병렬로 처리할 수 있다.

자바8의 스트림 API의 특징을 다음 처럼 요약할 수 있다.
- 선언형 : 더 간결하고 가독성이 좋아진다.
- 조립할 수 있음 : 유연성이 좋아진다.
- 병렬화 : 성능이 좋아진다.

## 4.2 스트림 시작하기
자바 8 컬렉션에는 스트림을 반환하는 stream 메서드가 추가됐다(스트림의 인터페이스 정의는 java.util.stream.Stream)
`스트림`이란 데이터 처리 연산을 지원하도록 소스에서 추출된 연속된 요소로 정의할 수 있다.

- 연속된 요소  
컬렉션은 자료구조이므로 컬렉션에서는 시간과 공간의 복잡성과 관련된 요소 저장 및 접근 연산이 주를 이룬다.
반면 스트림은 filter, sorted, map처럼 표현 계산식이 주를 이룬다.

- 소스  
스트림은 컬렉션, 배열, I/O 자은등의 데이터 제공 소스로부터 데이터를 소비한다. 정렬된 컬렉션으로 스트림을 생성하면 정렬이 그대로 유지된다.
즉, 리스트로 스트림을 만들면 스트림의 요소는 리스트의 요소와 같은 순서를 유지한다.

- 데이터 처리 연산  
스트림은 함수형 프로그래밍 언어에서 일반적으로 지원하는 연산과 데이터베이스와 비슷한 연산을 지원한다.
filter, map, reduce, find, match, sort 등으로 데이터를 조작할 수 있다.

- 파이프라이닝  
대부분의 스트림 연산은 스트림 연산끼리 연결해서 커다란 파이프 라인을 구성할 수 있도록 스트림 자신을 반환한다.

- 내부반복  
반복자를 이용해서 명시적으로 반복하는 컬렉션과 달리 스트림은 내부 반복을 지원한다.

## 4.3 스트림과 컬렉션
컬렉션과 스트림 모두 연속된 요소 형식의 값을 저장하는 자료구조의 인터페이스를 제공한다.

데이터를`언제` 계산하느냐가 컬렉션과 스트림의 가장 큰 차이다. 컬렉션은 현재 자료구조가 포함하는 모든 값을 메모리에 저장하는 자료구조다.
스트림은 이론적으로 요청할 때만 요소를 계산하는 고정된 자료구조다.(스트림에 요소를 추가하거나 스트림에서 요소를 제거할 수 없다)

### 4.3.1 딱 한 번만 탐색할 수 있다.
반복자와 마찬가지로 스트림도 한 번만 탐색할 수 있다.

### 4.3.2 외부 반복과 내부 반복
컬렉션 인터페이스를 사용하려면 사용자가 직접 요소를 반복해야 한다.(예를 들면 for-each 등을 사용해서) 이를 `외부반복`이라고 한다.
반면 스트림 라이브러리는 (반복을 알아서 처리하고 결과 스트림값을 어딘가에 저장해주는) `내부 반복`을 사용한다.

## 4.4 스트림 연산
연결할 수 있는 스트림 연산을 `중간연산`이라고 하며, 스트림을 닫는 연산을 `최종연산`이라고 한다.

### 4.4.1 중간 연산
### 4.4.2 최종 연산
### 4.4.3 스트림 이용하기
스트림 이용과정은 다음과 같이 세가지로 요약할 수 있다.
- 질의를 수행할 (컬렉션 같은) 데이터 소스
- 스트림 파이프라인을 구성할 중간 연산 연결
- 스트림 파이프라인을 실행하고 결과를 만들 최종 연산

중간 연산

|연산|형식|반환 형식|연산의 인수|함수 디스크립터|
|---|---|---|---|---|
|map|중간연산|Stream<R&gt;|Function<T,R&gt;|T->R|
|limit|중간연산|Stream<T&gt;|||
|sorted|중간연산|Stream<T&gt;|Comparator<T&gt;|(T, T) -> int|
|distinct|중간연산|Stream<T&gt;|||

최종 연산

|연산|형식|반환 형식|목적|
|---|---|---|---|
|forEach|최종연산|void|스트림의 각요소를 소비하면서 람다를 적용한다|
|count|최종연산|long(generic)|스트림의 요소 개수를 반환한다.|
|collect|최종연산| |스트림을 리듀스해서 리스트,맵,정수 형식의 컬렉션을 만든다.|

## 4.5 로드맵
## 4.6 마치며






