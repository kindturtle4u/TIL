> 출처 :  Vue.js 프로젝트 투입 일주일전 (https://github.com/seungwongo/vue-project, https://github.com/seungwongo/mini-project-shop)

# 8. 컴포넌트 심화 학습
## 8.1 컴포넌트 안에 다른 컴포넌트 사용하기
### 8.1.1 부모 컴포넌트와 자식 컴포넌트
- 컴포넌트에서 다른 컴포넌트를 사용하는 방법은 사용할 컴포넌트를 import한 후 현재 컴포넌트의 템플릿에서 사용할 컴포넌트를 components에 등록하면 됩니다.

```vue
import ComponentA from './ComponentA'
import ComponentC from './ComponentC'

export default {
    components: {
        ComponentA,
        ComponentC
    }
}
```

### 8.1.2 부모 컴포넌트에서 자식 컴포넌트로 데이터 전달하기 : Props
```vue
<template>
    <h2>{{title}}</h2>
</template>
<script>
    export default {
        props: {
            title: {
                type: String,
                default: "페이지 제목입니다."
            }
        }
    }
</script>
```

- prop에는 부모 컴포넌트로 전달 받은 데이터가 저장됩니다. Prop에 정의된 키는 저장될 데이터의 타입과 부모 컴포넌트로부터 데이터가 전달되지 않았을 때의 default 값을 정의합니다.
- `<PageTitle title="부모 컴포넌트에서 자식 컴포넌트로 데이터 전달"/>`

#### 8.1.2.1 정적/동적 Prop 전달
- v-bind나 약어인 :문자를 사용해서 prop에 동적인 값을 전달 할 수 있습니다.

#### 8.1.2.2 숫자형(Number) 전달
- 숫자 값을 prop로 전달하기 위해서는 v-bind를 통해서만 가능합니다.
```vue
<!-- 42는 정적이지만, v-bind를 사용함으로써 전달되는 데이터가 자바스크립트 표현식이 됩니다. -->
<blog-post :likes="42" />
<blog-post :likes="post.likes" />
```

#### 8.1.2.3 논리 자료형(Boolean) 전달
- 논리 자료형 역시 v-bind을 사용하지 않으면 문자열로 전달되기 때문에, v-bind를 사용해야 합니다.

#### 8.1.2.4 배열(Array) 전달
- 배열 역시 v-bind을 사용하지 않으면 문자열로 전달되기 때문에, v-bind를 사용해야 합니다.
`<blog-post :comment-ids="[234, 266, 273]" />`

#### 8.1.2.5 객체(Object) 전달
- 객체 역시 v-bind을 사용하지 않으면 문자열로 전달되기 때문에, v-bind를 사용해야 합니다.
`<blog-post :author="{name:'veronica', 'Veridian Dynamics'}" />`

#### 8.1.2.6 객체(Object)의 속성 전달
- 객체(Obejct) 역시 v-bind을 사용하지 않으면 문자열로 전달되기 때문에, v-bind를 사용해야 합니다.

#### 8.1.2.7 Prop 유효성 검사
- 자식 컴포넌트에서 props 옵션을 정의할 때, 전달받는 데이터타입, 기본값(default), 필수여부(required) 그리고 유효성 검사 함수(validator)인
함수를 통해서 유효성 검사 할 수 있습니다.

### 8.1.3 부모 컴포넌트에서 자식 컴포넌트의 이벤트 직접 발생시키
- HTML 태그에 ref="id"를 지정하면 Vue 컴포넌트의 함수에서 this.$refs를 통해 접근이 가능하게 됩니다. ref속성은 HTML 태그에서 사용되는 id와 비슷한 기능을 한다고
생각하시면 됩니다. ref는 유일한 키 값을 사용해야 합니다.

```vue
<template>
    <button type="button" @click="childFunc" ref="btn">click</button>
</template>

<script>
export default {
    name: "ChildComponent",
    methods : {
        childFunc() {
            console.log('부모 컴포넌트에서 직접 발생시킨 이벤트');
        }
    }
}
</script>
```

```vue
<template>
    <child-component @send-message="sendMessage" ref="child_component" />
</template>

<script>
import ChildComponent from "@/components/ChildComponent";
export default {
    components: {ChildComponent},
    mounted() {
        this.$refs.child_component.$refs.btn.click();
    }

}
</script>
```

### 8.1.4 부모 컴포넌트에서 자식 컴포넌트의 함수 직접 호출하기
- 부모 컴포넌트에서는 자식 컴포넌트의 $refs를 사용하여 접근하게 되면 자식 컴포넌트 내에 정의된 모든 함수를 호출할 수 있습니다.
`this.$refs.child_component.callFromParent();`

### 8.1.5 부모 컴포넌트에서 자식 컴포넌트의 데이터 옵션 값 직접 변경하기
- $refs를 통해서 자식 컴포넌트에 접근하고 나면 자식 컴포넌트에 정의된 데이터 옵션을 직접 변경할 수 있게 됩니다.
`this.$refs.child_component.msg = "부모 컴포넌트가 변경한 데이터"`

### 8.1.6 자식 컴포넌트에서 부모 컴포넌트로 이벤트/데이터 전달하기 (커스텀 이벤트)
- 자식 컴포넌트에서 부모 컴포넌트로 이벤트로 전달하기 위해서는 $emit를 사용합니다.

### 8.1.7 부모 컴포넌트에서 자식 컴포넌트의 데이터 옵션 값 동기화하기
- 부모 컴포넌트에서 computed를 이용하면 자식 컴포넌트에 정의된 데이터 옵션 값의 변경사항을 항상 동기화시킬 수 있습니다.
- computed 옵션을 이요하면 자식 컴포넌트의 데이터가 변경될 때마다 $emit를 통해 변경된 데이터를 전송하지 않아도 변경된 데이터 값을 항상 확인할 수 있습니다.

```vue
<script>
export default {
    components: {ChildComponent},
    computed: {
        msg() {
            return this.$refs.child_component_msg;
        }
    },
    methods: {
        checkChild() {
            alert(this.msg);
        }
    }
}
</script>
```
## 8.2 Slot