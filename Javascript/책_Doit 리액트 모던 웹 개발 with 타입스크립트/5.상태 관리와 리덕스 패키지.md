> 출처 : Do it 리액트 모던 웹 개발 with 타입스크립트 (저자: 전예홍)

# 5.상태 관리와 리덕스 패키지
## 05-1 리덕스 기본 개념 이해하기
- ch05_1 크로젝트 생성

### 리덕스와 리덕스 관련 필수 패키지
- 플럭스 설계규격: 앱 수준 상태, 즉 여러 컴포넌트가 공유하는 상태를 리액트 방식으로 구현하는 방법
- 플럭스 설계 규격을 준수하는 오픈소스 라이브러리가 등장했는데, 리덕스(redux)는 그중에서 가장 많이 사용되는 패키지 입니다.
- 리덕스를 사용하려면 `redex`와 `@reduxjs/toolkit`(RTK), 그리고 리액트 프레임워크에서 하용할 react-redex 패키지를 설치해야 합니다.
- `redex`와 `RTK`는 프레임워크와 무관하므로 리액트는 물론 앵귤러나 뷰에서도 사용할 수 있습니다.
- `react-redux`는 리액트와 함께 동작해야 하므로 다른 프레음워크에서는 사용할 수 없습니다.

### 앱 수준 상태 알아보기
- 모든 컴포넌트가 함께 공유할 수 있는 상태를 **앱 수준 상태** 줄여서 **앱상태** 라고 합니다.

#### Provider 컴포넌트와 store 속성
- 리덕스는 리액트 context에 기반을 둔 라이브러리입니다. 즉, 리덕스 기능을 사용하려면 리액트 context의 Provider 컴포넌트가 최상위로 동작해야 합니다.
- react-redux 패키지는 Provider 컴포넌트를 제공합니다. `import {Provider} from 'react-redux`
  * 책에서는 별칭 사용 `import {Provider as ReduxProvider} from 'react-redux`

#### 리덕스 저장소와 리듀서, 액션 알아보기
- **리덕스 저장소(redux store)** 는 앱상태 타입 데이터를 저장하는 공간입니다.
- 리덕스 저장소를 생성하려면 리듀서라는 함수를 알아야 합니다. 리덕스에서 **리듀서(reducer)** 는 현재 상태와 액션이라는 2가지 매개변수로 새로운 상태를 만들어서 반환합니다.
- **리듀서(reducer)** 선언문에 나오는 **액션(action)**은 플럭스에서 온 용어로서 type이란 이름의 속성이 있는 평범한 자바스크립트 객체를 의미합니다.

#### 스토어 객체 관리 함수
- RTK 패키지는 리듀서에서 반환한 새로운 상태를 **스토어(store)** 라는 객체로 정리해 관리하는 configureStore 함수를 제공합니다.
  * `import {configureStore} from '@reduxjs/toolkit'`
- configureStore는 `ConfigureStoreOptions` 제네릭 타입 매개변수를 1개 입력 받는 함수입니다.
- `ConfigureStoreOptions` 타입은 필수 속성인 `reducer`와 더불어 `middleware`등 선택 속성 4개로 구성되었습니다.
```tsx
export interface ConfigureStoreOptions<S, A, M> {
    reducer
    middleware?
    devTools?
    reloadedState?
    enhancers?
}
```

```tsx
import type {Action} from 'redux'
import type {Provider as ReduxProvider} from 'react-redux'
import {configureStore} from '@reduxjs/toolkit'

import ReduxClock from './pages/ReduxClock'
import UseReducerClock from './pages/UseReducerClock'

type AppState = {
    today: Date
}

const initialAppState = {
    today: new Date()
}

const rootReducer = (state: AppState = initialAppState, action: Action) => state
const store = configureStore({reducer: rootReducer, middleware: []})

export default function App() {
    return (
        <ReduxProvider store={store}>
          <main className="p-8">
            <UseReducerClock />
            <ReduxClock />
          </main>
        </ReduxProvider>
    )
}
```

#### 기본 앱 파일 분리하기
- 리액트 커뮤니티에서는 리덕스 관련 파일을 store라는 이름의 디렉터리에 저장하는 관행이 있습니다.



## 05-2 리듀서 활용하기
## 05-3 리덕스 미들웨어 이해하기
## 05-4 트렐로 따라 만들기
