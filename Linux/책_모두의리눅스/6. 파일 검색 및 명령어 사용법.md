> 출처 :  모두의 리눅스 읽으면서 정리 

# 6. 파일 검색 및 명령어 사용법
## 6.1 파일을 찾는 방법
- 파일을 찾는 명령어로는 find와 locate가 있습니다.

### 6.1.1 find 명령어: 디렉터리 트리에서 파일 찾기
- find는 이름 그대로 파일을 찾는 명령어 업니다. 이 명령어는 다른 명령어들에 비해 옵션을 지정하는 방법이 조금 복잡합니다.
- 파일찾기: `find <검색할 디렉터리> <검색조건> <액션>` `find . -name file-1.txt -print`
- find 명령어는 지정한 트렉터리 트리를 내려가면서 검색 조건에 일치하는 파일을 검색합니다. 따라서 디렉터리가 깊게 중첩되어 있어도 파일을
쉽게 찾을 수 있습니다.

#### 이름으로 찾기(`-name`, `-iname`)
- `-name`은 대소문자를 구별하지만, `-iname`은 구별하지 않습니다. 
- 파일이름에는 와일드카드로 *나 ?를 사용할 수 있습니다. 경로 확장처럼 *는 임이의 문자열을, ?는 임의의 한문자를 의미합니다. `find . -name '*.txt' -print`
- `-name`으로 이름을 지정할때 *나 ?를 사용한다면 반드시 '(작은따옴표)로 감싸줘야 합니다. 그래야 배시의 경로 확장이 적용되지 않습니다.
- `find -name *.txt -print` -> `find -name file-1.txt readme.txt -print` 셸에 의하여 `*.txt` -> `file-1.txt readme.txt` 라는 문자열로 치환됨

#### 파일 형식으로 찾기 (-type)
- `-type <파일형식>`을 지정하면 파일의 형식으로 검색합니다. 지정할 수 있느 ㄴ파일 형식이 많지만 자주 사용되는 다음 세가지만 기억하면됩니다.
  * `-type f`: 보통파일
  * `-type d`: 디렉터리
  * `-type l`: 심볼릭 링크

#### 검색 조건 여러개 지정하기(-a)
- find 명령어를 사용할 때 a(AND)를 사용하여 검색 조건을 여러개 지정하면 해당 조건에 일치하는 파일을 찾을 수 있습니다. `find . -type f -a -name '*.txt' -print`
- 또한 -a는 생략할 수있습니다. `find -type f -name '*.txt' -print`

### 6.1.2 locate 명령어: 데이터베이스에서 찾기
- locate는 경로의 일부를 지정하여 파일을 찾을 때 사용하는 명령어 업니다. 이때 전용 데이터베이스에서 검색하므로 그자리에서 디스크 스캔해서
파일을 찾는 find보다 훨씬 빠릅니다. locate는 별도로 설치해야하므로 먼저 명령어를 설치하는 방법부터 알아보겠습니다.

#### 설치하기
- 우분투: `sudo apt-get install mlocate`
- CentOS: `sudo yum install mlocate`
- 데이터베이스구축: `sudo updatedb`

#### 파일찾기
- `locate [옵션] <검색패턴>`
- `locate bash`: bash라는 문자열을 포함하는 파일을 검색
- locate 명령어는 기본적으로 데이터베이스를 하루에 한번 만들도록 설정됩니다. 따라서 다음과 같은 문제가 발생할 수 있습니다.
  * locate로 검색된 파일이 실제로는 디스크에 존재하지 않을 수 있습니다.
  * locate로 검색되지 않았지만 실제로는 존재할 수 있습니다.
- 따라서 locate 명령어는 시스템에 원래부터 있었떤 파일이나 며칠 전에 만든 파일을 빠르게 검색할 때 사용한다고 생각하면 됩니다.

#### 다양한 검색 방법 지정하기
- 확장자 .sed인 파일 검색: `locate '*.sed'`
- 대소문자 구분 없이 검색: `locate -i notes`
- 파일 이름만으로 검색: `locate -b python` 파일 경로가 아니라 이름에 python이 포함되어야 출력됩니다.
- 여러 검색 문자열을 지정하면 OR 조건으로 검색됨: `locate docs document`
- AND 조건으로 여러 검색 문자열을 검색: `locate -A bash doc`

## 6.2 명령어 사용법 확인하기
### 6.2.1 `--help` 옵션
- 리눅스 명령어는 대부분 --help라는 옵션을 제공합니다. 이 옵션을 지정해서 실행하면 명령어에 대한 도움말이 출력됩니다.

### 6.2.2 man명령어: 매뉴얼 출력
- man은 지정한 명령어의 온라인 매뉴얼을 출력하는 명령어 입니다. man은 전통적인 리눅스의 기본 매뉴얼로서 대부분의 명령어에 대해
help 옵션보다 훨씬 자세한 내용을 담고 있습니다. 그리고 man은 명령어뿐만 아니라 리눅스의 설정파일이나 라이브러리에대한 설명도 포함하고 있습니다.

#### man 사용법
- `man <알고 싶은 명령어>` `man cat`
- man을 동작하면 less 명령어가 사용되어 매뉴얼이 표시됩니다.

#### man의 각 항목
- 이름: 명령어 이름과 간단한 설명
- 서식: 옵션이나 인자 지정 방법
- 설명: 명령어의 상세 설명
- 옵션: 지정할 수 있는 옵션 목록과 사용 방법
- 예: 대표적인 사용 방법 예시
- 환경변수: 동작을 바꾸는 변수에 대한 설명
- 파일: 설정 파일이나 관련 파일
- 관련항목: 관려된 명령어 혹은 동작이 비슷한 명령어
- 버그: 알려진 버

#### man에 대한 매뉴얼
- `man man`
- 책이나 웹상의 자료는 이전 버전의 내용이거나 특정 배포판에 한정된 내요일 수 있습니다. 따라서 다른 자료보다 가장 먼저 man
매뉴얼을 살펴보는 것이 좋습니다.

#### 키워드로 매뉴얼 찾기
- 명령어 이름을 모르는 경우에는 키워드로 메뉴얼을 검색할 수 있습니다. man 명령어의 `-k` 옵션을 사용하면 됩니다.

#### 키워드로 찾기
- `man -k <키워드>` `man -k copy`
- 명령어 뒤에 붙은 괄호 안의 숫자는 섹션 번호를 의미합니다.

#### 섹션
- 앞서 cat 명령어에 대한 man 매뉴얼을 출력했을때 시작 부분에 CAT(1)이라고 출력되었습니다. 괄호 안의 숫자는 메뉴얼의 섹션 번호를 의미 합니다.
- 매뉴얼의 섹션은 크게 9가지가 있습니다. 리눅스 관련 문서에서도 섹션 번호가 자주 인용됩니다.
- 다른 섹션에 같은 이름의 매뉴얼이 있는 경우가 있습니다. 예를 들어 crontab의 경우 crontab(1)과 crontab(5)가 있습니다. 이런 경우 명령어 이름 뿐만 아니라
섹션 번호도 함께 지정해야 원하는 매뉴얼을 확인할 수 있습니다.

#### man의 섹션 번호
- 1: 명령어
- 2: 시스템콜
- 3: 라이브러리 함수
- 4: 디바이스 파일
- 5: 파일 서식
- 6: 게임
- 7: 기타
- 8: 시스템 관리 명령어
- 9: 커널 루틴

#### 섹션 번호를 지정하여 매뉴얼 확인
- `man <섹션번호> <이름>`
- 센션 번호를 생략하면 섹션 번호의 값이 제일 작은 매뉴얼이 출력됩니다.
```shell
man 1 crontab # 섹션 1(명령어) crontab 매뉴얼 표시
man 5 crontab # 섹션 5(파일서식) crontab 매뉴얼 표시
man crontab # 번호가 작은 섹션1(명령어) crontab 매뉴얼 표시
```

#### 섹션 번호 확인
- 특정 명령어가 어떤 섹션에 포함되어 있는지를 확인하려면 다음과 같이 -wa 옵션을 사용하면 됩니다. `man -wa crontab`

## 6.3 명령어 검색
### 6.3.1 which 명령어: 명령어의 전체 경로 표시
- 리눅스의 명령어의 실체는 파일입니다. 예를 들어 cat 명령어의 실체는 `/bin`디렉터리 아래에 `/bin/cat`이라는 파일입니다.

#### cat 명령어의 경로는 `/bin/cat`
- 우리가 cat을 사용할 때는 `/bin/cat`이라고 입력하지 않고 cat이라고 입력합니다. 이는 셸이 $PATH라는 환경 변수에 저장된 장소에서 명령어를 찾도록 되어있기
때문입니다. 환경변수에 대해서는 8장에서 자세히 살펴봅니다.

#### 셸이 명령어를 찾는 위치
```shell
$ echo $PATH
/home/ec2-user/.local/bin:/home/ec2-user/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin
```
- `$PATH`에 설정된 디렉터리를 패스(path)라고 합니다. 패스를 설정해두명 명령어가 실제 어디에 있든 명령어의 이름만으로 실행하는 것이 가능해집니다.
- 명령어 파일의 실제 위치는 which 명령어를 사용해 확인할 수 있습니다.

#### 명령어의 실제 위치 출력
- `which [옵션] <명령어 이름>`
- which 실행하면 패스 상의 디렉터리를 검색하여 지정한 명령어의 전체 경로를 출력합니다.
- 같은 이름의 파일이 여러 개 있으면 제일 먼저 발견된 것만 출력합니다. 같은 이름의 파일을 전부다 출력하려면 `-a` 옵션을 지정해야 합니다.
```shell
which -a lsmod
/usr/sbin/lsmod
/usr/bin/lsmod
/sbin/lsmod
/bin/lsmod
```

## 6.4 한글 문서와 영어 문서
- 한글 버전으로 리눅스를 설치했으면 명령어 도움말이 한글로 표시됩니다. 한글이 표시 되지 않을 때 다음과 같이 명령어의 앞에 `LANG=ko_KR.UTF-8`을 붙이면 한글로 표시됩니다.
`LANG=ko_KR.UTF-8 cat --help`
- 영어로 출력하려면 다음과 같이 `LANG=C`를 붙입니다. `LANG=C`는 기본설정을 의미합니다. 리눅스의 기본 언어는 영어이므로 영어가 출력됩니다. `LANG=C cat --help`
- 아쉽게도 한글 버전의 도움말은 영어에 비해 완벽하지 않습니다. 영어 도움말에 있는 최신 변경 내용이 한글 도움말에는 아직 없을 수도 있고, 아예 영어 도움말만
지원되는 명령어도 많습니다. 따라서 정확한 정보를 얻으려면 영어로 된 도움말과 문서를 읽는 것이 좋습니다.

## A.2 info 도큐먼트
- info는 온라인 매뉴얼을 출력하는 명령어 입니다. man의 진보된 형태로 다음과 같은 장접이 있습니다.
  * 도큐먼트에 색인이나 계층 구조 설정가능
  * 긴 도큐먼트를 분할하여 여러 페이지로 다룰 수 있음
  * 도큐먼트 간 상호 참조 가능
- 대부분의 명령어에 대해 man보다 info가 더 상세한 내용을 담고 있습니다. 하지만 info 명령어를 다루는 방법은 꽤 복잡합니다. 그래서 아직까지 man이 없어지지않고
info와 공존하고 있습니다.

### A.2.1 info 도큐먼트 형식
#### 명령어에 대해 조사
- `info <명령어 이름>`

#### 파일과 노드
- info로 출력되는 도큐먼트는 파일과 노드라는 두 요소로 구성됩니다.
- 파일은 이름 그대로 텍스트를 담고 있는 물리적은 파일을 의미하며 도큐먼트 하나에 해당합니다.
- 파일은 복수의 노드로 분할되어 있스빈다. 노드는 내용에 따라 분할된 논리 단위로 책으로 따지만 장이나 절에 해당합니다.
- 그리고 노드는 다른 노드에 대한 링크(참조)를 가질 수도 있습니다. 그래서 노드를 읽다가 다른 노드로 이동할 수 있는데 이것이 man과 다른 점 입니다.
- man에서는 다른 도큐먼트를 읽으려면 일단 man 명령어를 종료하고 다시 실행해야 합니다. 하지만 info에서는 명령어를 종료하지 않고도 다른 도큐먼트로 이동할 수 있습니다.
이는 HTML 페이지를 열람하는 것과 비슷합니다.

#### 노드의 계층 구조
- 노드는 계층 구조로 구성되어 있습니다.

#### Top 노드로 이동
- Top 노드를 이동하면 위와 같은 헤더가 표시됩니다. 여기서 Up을 보면 (dir)이라고 표시되어있습니다. `Next: Introduction, Up: (dir)`

### A.2.2 노드 이동
- `n`: 동일 계층의 다음 노드로 이동
- `p`: 동일 계층의 이전 노드로 이동
- `]`: 하위 계층을 포함하여 다음노드로 이동
- `[`:하위 계층을 포함하여 이전 노드로 이동
- `u`: 상위 노드로 이동
- `t`: top 노드로 이동


## A.3 스크롤
## A.4 링크(참조)
