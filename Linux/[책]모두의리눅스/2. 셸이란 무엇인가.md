> 출처 :  모두의 리눅스 읽으면서 정리 

# 2. 셸이란 무엇인가
## 2.1 셸과 명령어
- `date` 명령어 실행: date 명령어는 현재 시간을 출력하거나 설정하는 명령어 입니다.
- `echo` 명령어 실행: echo 명령어는 인자로 지정한 문자열을 출력합니다. 
- 이외에도 명령어가 다양합니다. 처음 설치할 때부터 수십 개 이상의 명령어가 포함되어 있습니다. 이 모든 명령어를 외울 필요는 없습니다. 필수적인 명령어를 익힌 뒤 필요할 때마다 하나씩
익히면 됩니다.
- 그리고 필요한 작업에 딱 맞는 명령어가 없다면 기존 명령어들을 조합하여 사용하면 됩니다. 리눅스는 단순한 명령어들을 조합하여 복잡한 작업을 처리할 수 있도록 설계되었습니다.

### 2.1.1 에러에 대해서
- 리눅스 환경에서 실습하다 보면 오타 등으로 인해 다양한 에러를 만나게 될 것입니다. 에러를 만나면 당황하지 말고 침착하게 표시된 에러 메시지를 읽으면서 원인을 파악해 보기 바랍니다.

### 2.1.2 셸의 역할과 리눅스 커널
- 앞서 date나 echo 같은 명령어를 실행해 보았습니다. 이때 리눅스 내부에서는 다음과 같은 일이 일어납니다.
    1. 키보드로 입력한 date 문자열을 받아들입니다.
    2. date 명령어를 찾습니다.
    3. 발경한 명령어를 실행합니다.
    4. 실행한 결과로 얻은 문자열을 화면에 표시합니다.
- 이 중에 3번은 리눅스의 본체인 커널이 수행합니다. 커널은 운영 체제의 중심에서 CPU나 메모리 같은 하드웨어를 관리하면서 명령어를 실행하고 프로세스를 관리합니다.
- 리눅스에서는 사용자가 커널을 직접 조작할 수 없게 되어 있기 때문에 둘 사이에서 명령어를 받아들이고 커널의 실행 결과를 출력하는 소프트웨어가 필요합니다. 이 역할을 수행하는 
소프트웨어가 바로 셸입니다. 즉, 셸은 커널의 인터페이스에 해당합니다.
- 이처럼 셸은 리눅스 커널을 감싸는 역할을 담당합니다. 조개껍질(shell)이라는 이름도 커널을 감싸 보호하기 때문에 붙여졌다고 볼 수 있습니다.

### 2.1.3 왜 커널과 셸은 나뉘어져 있을까
- 커널을 바꾸지 않고 셸만 바꿀 수 있습니다.
- 리눅스 외 OS(FreeBSD, NetBSD, Solaris 등)를 사용할 때도 셸만 이식하면 똑같이 사용할 수 있습니다.
- 셸을 사용할 때 에러가 발생하거나 지나치게 높은 부하가 발생해도 본체인 리눅스 커널에 미치는 영향을 최소한으로 줄일 수 있습니다.

## 2.2 프롬프트
- 앞서 명령어를 입력할 때 다음과 같은 문자열을 보았을 겁니다. `ldk@ldk-VirtualBox:~$`
    * `ldk`: 사용자이름
    * `ldk-VirtualBox`: 호스트 이름

- 이를 셸의 프롬프트(prompt)라 합니다. 프롬프트는 사용자에게 어떤 결정을 내리도록 한다는 의미입니다. 즉, 셸이 사용자아게 명령어를 받아들일 준비가 되었음을 나타낸다고 보면됩니다.

### 2.3.1 프롬프트 기호
- 일반 사용자가 아니라 슈퍼사용자일 때에는 프롬프트를 $ -> #로 표시

### 2.3.2 로그인 셸
- 리눅스에 로그인하면 셸이 사용자를 반기며 입력을 대기합니다. 이는 사용자가 로그인할 때 리눅스가 자동으로 셸을 시작하기 때문입니다. 이렇게 로그인 후 처음으로 시작되는 셸을
로그인 셸이라 부릅니다.
- 자신이 사용하고 있는 로그인 셸을 확인하는 방법은 다음과 같습니다.

```shell
$ echo $SHELL
/bin/bash
```
- /bin 디렉토리에 있는 bash가 바로 로그인 셸입니다. 리눅스에선 별도로 지정하지 않으면 bash가 로그인 셸로 시작합니다.

### 2.3.3 대화형 조작과 셸 스크립트
- 명령어를 직접 입력하고 그 결과를 확인하는 조작 방식을 대화형(인터렉티브) 방식이라 합니다.
- 이에 반해 실행하고 싶은 명령어들을 미리 파일에 기록하고 그 파일을 셸에 넘겨주는 방식으로 명령을 수행할 수도 있습니다. 이렇게 일련의 명령어 흐름을 기술한 파일을 셸
스크립트라고 합니다.

- 셸 스크립트의 예
```shell
#!/bin/ sh

today = $( date '+%d')
if [ $ today -eq 20]; then
    echo "오늘은 20일입니다. 출근 일자를 확인해주세요"
fi
```

- 셸 스크립트는 '작은 프로그램(명령어)을 조합해 복잡한 처리를 수행한다'는 리눅스의 철학이 담긴 강력한 도구입니다. 셸 스크립트를 능숙하게 다루게 되는 것이 이 책의 목표이기도 합니다.

## 2.3 셸 종류
- 앞서 로그인 셸이 배시(bash)인 것을 확인했습니다. 리눅스에서느 배시 외에도 다향한 셸을 사용할 수 있습니다.

### 2.3.1 sh
- AT&T 벨 연구소의 스티븐 본(Steven Bourne)이 만들어서 본 셸(혹은 B셸)이라고 불리며, 아주 오래전에 만들어진 셸입니다. 리눅스뿐만 아니라 FreeBSD나 Solaris, HP-UX, AIX 등 여러
운영체제에서 사용할 수 있습니다.
- sh는 긴역사를 통해 표준 셸의 지위를 가지고 있으며, 현재도 셸 스크립트를 작성할 때는 sh를 사용하는 것이 일반적입니다. 하지만 오래된 셸이라 기능이 적고 특히 대화형에서 사용하기에는
불편합니다. 따라서 로그인 셸로 사용되는 경우는 거의 없습니다.

### 2.3.2 csh
- csh도 무척 오래된 셸 중하나로 C셸이라 불립니다. sh보다 대화형 조작에 편리한 기능을 갖추고 있어 인기가 많았습니다. 하지만 셸 문법이 sh와 크게 달라 셸 스크립트 작성에는 적합하지 않습니다.
- 현재는 csh의 뒤를 잇는 tcsh가 나와 많이 사용하지 않습니다.

### 2.3.3 bash
- sh를 바탕으로 기능이 추가된 셸입니다. sh와 호환성이 있어 sh를 대체할 수 있습니다. 또한, 대화형 조작에 필요한 기능을 갖추고 있어 많은 리눅스에서 기본 로그인 셸로 사용하고 있습니다.
- 셸 스크립트를 작성하는 데도 적합합니다.

### 2.3.4 tcsh
- csh에 이어 개발된 C셸 계열의 셸입니다. 대화형 조작에 편리한 기능을 많이 갖추고 있지만, csh와 마찬가지로 셸 스크립트에는 적합하지 않습니다. 

### 2.3.5 zsh
- 비교적 최근에 개발된 셸로, bash와 tcsh의 기능에 독자적인 기능이 추가되었습니다. 무척 다양한 기능을 갖추고 있어 매뉴얼만 17개 섹션에 달합니다.
- 모든 기능을 익히는데 시간이 걸리지만, 익숙해지면 작업효율을 크게 높일 수 있습니다. 다만 초바자가 바로 시작하기에는 다소 어려울 수 있습니다.
