> 출처 :  리눅스마스터 2급 한권으로 끝내기 읽으면서 정리 

# 8. 소프트웨어 설치 및 관리
## 8.1 패키지 설치 및 제거
### 8.1.1 패키지
- 리눅스 시스템에서 프로그램을 설치하고 관리 하는 방법에는 배포본 패키지를 설치하거나 소스코드를 컴파일 및 설치하도록 도와주는 관리 도구이다.
- 레디햇계열
  * 배포본: CentOS, RHEL, Fedora
  * 패키징 도구: rpm, yum
- 데비안 계열
  * 배포본: Debian, Ubuntu, Xandros, Linspire, Kail Linux
  * 패키징도구: dpkg, apt-get, aptitude

### 8.1.2 RPM(RedHat Package Manager)
- 레드헷 사에서 개발한 패키지 관리 도구 이다.
- 패키지를 설치, 업그레이드 제거 시 사용한다.
- 파일 확장자명은 '*.rpm' 이다.

#### 패키지 구성
- 일반 패키지 `httpd-2.4.6-93.el7.centos.x86_64.rpm`
  * `httpd` 패키지명: 대부분 특정 서비스를 나타내는 이름이거나, 특정 라이브러리를 의미하는 이름을 붙이는 것이 일반적
  * `2.4.6` 버전: 주버전(2), 부버전(4), 패치번호(6)
  * `93` 릴리즈 번호: 패키지를 업데이트하여 배포할 때마다 붙여지는 번호
  * `el7.centos`: CentOS 버전 CentOS에서 배포할 경우 붙여짐
  * `x86_64` 아키텍쳐 - Intel 또는 AMD 계열 64비트 CPU
    + `alpha`: 알파 시스템
    + `sparc64`: 스팍 시스템 64비트
    + `ppc64`: 파워 PC용 CPU
    + `noarch`: 특정 아키텍처를 의미하지 않음
  * `rpm` 확장자: RPM 패키지 의미

- 커널 패키지 `kernel-3.10.0-957.el7.x86_64.rpm`
  * `kernel` 패키지명: 대부분 특정 서비스를 나타내는 이름이거나, 특정 라이브러리를 의미하는 이름을 붙이는것이 일반적
  * `3.10.0` 버전: 부 버전 짝수: 안정버전, 홀수: 불안정 버전(개발 버전)
  * `957` 릴리즈 번호: 패키지를 업데이트하여 배포할 때 마다 붙여지는 번호
  * `el7` Centos 버전: CentOS에서 배포할 경우 붙여짐
  * `x86_64` 아키텍처: Intel 또는 AMD 계열 64비트 CPU
  * `rpm`: 확장자: RPM 패키지 의미
  
- 기본형식: `rpm [옵션] [패키지
- 옵션
  * `-a`: 모든 패키지 검색
  * `-e`: 패키지 제거
  * `-f`: 해당 파일을 포함한 패키지에 대해 질의
  * `-F`: `-f`옵션과 같지만 파일명을 표준 입력에서 읽음
  * `-h`: 패키지 설치 시 해시(#) 마크 출력
  * `-i`: 패키지 설치
  * `-K`: 서명 검증
  * `-V`: 패키지 검증
  * `-q`: 패키지 설치 여부 확인
  * `-U`: 기존 패키지 업그레이드
  * `-v`: 자세한 정보 출력
  * `-vv`: 디버깅 정보 출력
  * `--force`: 기존에 설치된 패키지가 존재할 경우 강제로 설치(덮어쓰기)
  * `--nodeps`: 의존성을 무시(설치 또는 제거 시)
  * `--oldpackage`: 구버전으로 다운그레이드
  * `--replacepkgs`: 패키지 재설치
  * `--replacefiles`: 설치하려는 패키지가 기존에 설치된 패키지의 파일을 교체하는 경우 rpm은 설치를 거부하나, 이 옵션을 추가하면 설치를 진행
- 활용
  * httpd 패키지 설치 유무 확인: `rpm -qa httpd`
  * 패키지 검증: `rpm -V httpd` 변조가 없는 경우에는 메시지가 출력되지 않음

#### 검증코드
  * `5`: MD5 체크섬 변경
  * `M`: 파일 모드(파일유형, 권한) 변경
  * `D`: 장치 파일 변경
  * `S`: 파일 크기 변경
  * `G`: 그룹명 변경
  * `T`: 파일 수정일 변경
  * `L`: 심볼릭 링크 변경
  * `U`: 사용자 변경

### 8.1.3 yum(Yellow dog Updater Modified)
- 네트워크를 통해서 새로운 패키지 설치, 업데이트, 제거를 자도응로 수행하는 패키지 관리 도구이다.
- 네트워크 기반으로 수행되는 피키지 관리자이므로, 네트워크가 정상적으로 연결되어 있어야만 한다.
- 기본형식: `yum [옵션] [명령어] [패키지명]`

#### 설치
- `-y install`: 패키지 설치(설치 여부 질의에 모두 'y'로 처리)
- `-y update`: 패키지 업데이트(설치 여부 질의에 모두 'y'로 처리)
- `localinstall`: 로컬에 존재하는 패키지 설치
- `groupinstall`: 그룹 패키지 설치

#### 제거
- `remove`: 패키지 제거
- `groupremove`: 그룹 패키지 제거

#### 확인
- `info`: 패키지 정보 출력
- `search`: 해당 문자열이 포함된 패키지 출력
- `check update`: 업데이트 가능한 패키지 목록 출력
- `check-update`: 업데이트가 필요한 패키지 출력
- `list`: 전체 패키지 정보 출력
- `grouplist`: 그룹 패키지 정보 출력
- `history`: 패키지 설치, 업데이트, 제거 등의 작업 이력 출력

### 8.1.4 dpkg(Debian Package Manager)
- 데비안(Debian)의 저레벨(low level) 패키지 관리자이다.
- 데비안 패키지를 설치, 업데이트, 제거하는 패키지 관리자이다.
- 파일확장자는 '*.deb'이다
- 패키지 구성: `emacs_15.04_all.deb`
  * `emacs` 패키지명: 대부분 특정 서비스를 나타내는 이름이거나, 특정 라이브러리를 의미하는 이름을 붙이는 것이 일반적
  * `15.04` 버전: 15.04 버전
  * `all` 아키텍처: 모든 아키텍처 사용 가능
  * `deb` 확장자: Debian 패키지 의미

### 8.1.5 apt-get(Advancded Packaging Tool get)
- 리눅스 시스템에서 패키지를 설치, 제거, 확인하는 데비안 패키지 관리 도구이다.
- 네트워크를 기반으로 수행되는 패키지 관리자 이므로, 네트워크가 정상적으로 연결되어 있어야 한다.
- 패키지 설치, 확인을 위해 '/etc/apt/source.list'를 참조 할 수 있다.
- 기본형식: `apt-get [옵션] [명령어] [패키지명]`
- 옵션
  * `-b`: 소스 패키지를 다운로드 한 후 빌드
  * `-d`: 압축 파일을 다운로드만 하기(설치 및 압축 해제하지 않음)
  * `-f`: 오류 패키지 수정
  * `-u`: 업그레이드 패키지 목록 출력
  * `-V`: 상세한 버전 정보 출력
  * `-y`: 모든 질의에 'yes' 처리
- 명령어
  * `autoremove`: 사용하지 않는 모든 패키지를 자동으로 제거
  * `autoclean`: 다운로드한 압축 파일 중 오래된 것 지우기
  * `bulid-dep`: 소스 패키지의 빌드 의존성 설정
  * `check`: 의존성 오류 패키지 확인
  * `clean`: 다운로드한 압축 파일 지우기
  * `dist-upgrade`: 배포판 업그레이드
  * `download`: 현재 디렉터리로 바이너리 패키지 다운로드
  * `install`: 패키지 설치(패키지 이름은 확장자를 제외)
  * `purge`: 패키지와 환경설정 파일을 함꼐 제거
  * `remove`: 패키지 제거
  * `source`: 소스 압축 파일 다운로드
  * `update`: 새로운 패키지 목록 다운로드
  * `upgrade`: 업그레이드 실행

## 8.2 소스 파일 설치 및 제거
### 8.2.1 파일 아카이브(File Archive)와 압축
- 여러 개의 파일이나 디렉터리를 하나의 파일로 묶는 것이다.
- 다른 시스템으로 파일을 이동하거나 백업 시 많이 사용한다.
- 파일 확장자는 '*.tar'이다.
- 기본형식: `tar [옵션] [아카이브파일명] [묶을파일명]`

### 8.2.2 파일 압축과 해제
- 대표적인 파일 압축 명령어로는 compress, gzip, bzip2, xz 등이 있다.
- 일반적으로 많이 사용하는 명령어로는 gzip, bzip2 등이 있다.

#### gzip과 gunzip
- 파일 확장자는 `*.gz`이다.
- 기본형식 : 
  * `gzip [옵션] [파일명]`
  * `gunzip [파일명]`

#### bzip2와 bunzip2
- 확장자는 '*.bz2'이다.
- 기본형식
  * `bzip2 [옵션] [파일명]`
  * `bunzip2 [파일명]`

#### xz와 unxz
- 확장자는 *.xz 이다.
- 기본형식
  * `xz [옵션] [파일명]`
  * `unxz [파일명]`

#### compress와 uncompress
- 확장자는 '*.Z'이다.
- 기본형식
  * `compress [옵션] [파일명]`
  * `uncompress [옵션] [파일명]`

#### zip과 unzip
- 확장자는 '*.zip'이다.
- 기본형식
  * `zip [옵션] [파일명]`
  * `unzip [파일명]`

#### 기타
- `bzcat`, `zcat` 등이 있으며 압축된 상태로 압축된 파일을 확인하는 명령어이다.

### 8.2.3 소스 코드 설치
- 소스 코드를 압축 해제 후 순서에 따라 컴파일하여 프로그램을 설치한다.
- 리눅스의 소스 코드는 대부분 C 언어로 작성되어 있다.

#### 컴파일 순서
- 1단계: 환경설정 (`./configure`)
  * 프로그램 설치과정에서 필요로 하는 'makefile' 생성
  * 시스템 파일 위치, 설치 파일 위치 등
- 2단계: 컴파일 (`make`)
  * 'makefile'을 기반으로 소스 파일을 컴파일
  * make가 끝나면 소스 파일은 실행 파일로 변환
- 3단계: 파일 설치(`make install`)
  * 컴파일된 실행 파일을 지정된 디렉터리에 설치
  
#### CMake(Cross Platform Make)
- 멀티 플랫폼을 사용할 수 있는 make를 대체할 프로그램을 만들기 위한 오픈 소스 프로젝트이다.
- 기존의 make 과정을 거지치 않고 운영체제에 맞게 make 파일을 생성하므로 Meta Meake라고도 한다.
- CMake의 특징
  * 유닉스 계열은 물론 윈도 계을의 프로그램 도구도 지원한다.
  * 소프트웨어 빌드에 특화된 언어로 독자적인 설정 스크립트를 사용한다.
  * C, C++, Java 등에 대해서는 의존관계를 분석할 수 있다.
  * MS 비주얼 스튜디오를 할 수있다.
  * 'eclips'용 빌드 파일을 생성할 수 있다.
  * 병령빌드와 크로스 컴파일할 수 있다.
  * 다양한 플랫폼을 지원한다.
